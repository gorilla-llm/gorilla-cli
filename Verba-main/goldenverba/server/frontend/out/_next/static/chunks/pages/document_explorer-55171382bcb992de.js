(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[306],{98404:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/document_explorer",function(){return n(78006)}])},78006:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var a=n(85893),s=n(67294),c=n(79123),l=n(85280),o=n(19954);let i=(0,o.getApiHost)();function r(){let[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[p,m]=(0,s.useState)("Documentation"),[h,x]=(0,s.useState)("#"),[f,y]=(0,s.useState)([]),[_,w]=(0,s.useState)(null),j=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{let t=e?"".concat(i,"/api/search_documents"):"".concat(i,"/api/get_all_documents"),n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e?{query:e}:{})}),a=await n.json();y(a.documents)}catch(e){console.error("Failed to fetch documents: ".concat(e))}};(0,s.useEffect)(()=>{j()},[]),(0,s.useEffect)(()=>{let e=async()=>{if(_&&_._additional.id)try{let e=await fetch(i+"/api/get_document",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({document_id:_._additional.id})}),t=await e.json();r(t.document.properties.doc_name),u(t.document.properties.text),m(t.document.properties.doc_type),x(t.document.properties.doc_link)}catch(e){console.error("Failed to fetch document:",e)}};e()},[_]);let N=async e=>{e.preventDefault();let t=e.currentTarget,n=new FormData(t),a=n.get("searchInput");j(a)};return(0,a.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-between p-10 text-gray-900",children:(0,a.jsxs)("div",{className:"flex flex-col w-full items-start",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex text-lg",children:[(0,a.jsx)("span",{className:"bg-opacity-0 rounded px-2 py-1 hover-container animate-pop-in",children:"The"}),(0,a.jsx)("span",{className:"bg-opacity-0 rounded font-bold px-2 py-1 hover-container animate-pop-in-late",children:"Golden"}),(0,a.jsx)("span",{className:"bg-yellow-200 rounded px-2 py-1 hover-container animate-pop-more-late",children:"RAGtriever"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[" ",(0,a.jsx)("h1",{className:"text-8xl font-bold mt-2",children:"Verba"}),(0,a.jsxs)("p",{className:"text-sm mt-16 text-gray-400 ml-4",children:[" ","Retrieval Augmented Generation system powered by Weaviate ❤️"]})]})]}),(0,a.jsxs)("div",{className:"flex w-full space-x-4",children:[(0,a.jsxs)("div",{className:"w-1/2 p-2 border-2 shadow-lg h-2/3 border-gray-900 rounded-xl animate-pop-in",children:[(0,a.jsx)("div",{className:"rounded-t-xl bg-yellow-200 p-4 flex justify- between items-center",children:(0,a.jsx)("form",{className:"rounded-b-xl p-4 w-full",onSubmit:N,children:(0,a.jsx)("input",{type:"text",name:"searchInput",placeholder:"Search for documents",className:"w-full p-2 rounded-md bg-white text-gray-900 placeholder-gray-400"})})}),f.length>0&&(0,a.jsx)(l.t7,{height:528,itemCount:f.length,itemSize:100,width:825,children:e=>{let{index:t,style:n}=e;return(0,a.jsx)("button",{style:n,className:" w-full p-4 animate-pop-in-late",onClick:()=>w(f[t]),children:(0,a.jsx)("p",{className:"".concat(o.DOC_TYPE_COLORS[f[t].doc_type]," p-8 w-full rounded-md shadow-md ").concat(o.DOC_TYPE_COLOR_HOVER[f[t].doc_type]),children:f[t].doc_name})},t)}})]}),(0,a.jsx)("div",{className:"w-1/2 space-y-4",children:(0,a.jsx)(c.I,{title:n,text:d,extract:"",docLink:h,type:p})})]})]})})}}},function(e){e.O(0,[611,280,172,774,888,179],function(){return e(e.s=98404)}),_N_E=e.O()}]);